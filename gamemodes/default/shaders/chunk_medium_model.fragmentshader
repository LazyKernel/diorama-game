#version 330

uniform sampler2D ambient_map;

uniform vec4 ambient_color;

in vec4 light_rgba;
in vec4 diffuse_rgba;
in vec2 ambient_uv;

out vec4 color;

void main()
{
    // float bias = 0.001;
    // float depth = texture (shadow_map, shadow_coord.xy).r;
    float visibility = 0.8;
    // if (depth < shadow_coord.z - bias)
    // {
    //     visibility = 0.2;
    // }

    color = diffuse_rgba * (ambient_color + (light_rgba * visibility));
    color.a = 1.0;
}
